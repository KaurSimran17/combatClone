<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Combat Domain</title>
    <link rel="shortcut icon" href="imgs/favicon.png" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <link rel="stylesheet" href="{% static 'css/style.css'%}" />
    <style>
        .redClass {
          background-color: red !important;
        }
      </style>
      
  </head>

  <body>
    <div class="event" id="event">
      <div class="event-header">
        <a href="admin.html" id="back-btn"
          ><i class="bx bx-chevron-left"></i
        ></a>
        <img src="{% static 'images/logo.png'%}" alt="" />
        <a href="" id="logout"><i class="bx bx-log-out"></i></a>
      </div>
      <div class="event-box">
        <div class="event-box-left">
          <h2>Event Calender</h2>
          <div class="calenderDate">
            <div class="selectOption">
              <select class="months eventCalender">
                <option value="">October</option>
              </select>
              <select class="year eventCalender">
                <option value="">2022</option>
              </select>
            </div>
            <div class="showDate">
              <ul id="li">
                {% for j in eve %}
                <li style="display: none">{{j.date}}</li>

                {% endfor %}
              </ul>
              <p id="eventDate" style="display: none"></p>

              <div class="month">
                <div class="week">
                  <div id="1" class="day">1</div>
                  <div id="2" class="day">2</div>
                  <div id="3" class="day">3</div>
                  <div id="4" class="day">4</div>
                </div>
                <div class="week">
                  <div class="day">5</div>
                  <div class="day">6</div>
                  <div class="day">7</div>
                  <div class="day">8</div>
                  <div class="day">9</div>
                  <div class="day">10</div>
                  <div class="day">11</div>
                </div>
                <div class="week">
                  <div class="day">12</div>
                  <div class="day">13</div>
                  <div class="day">14</div>
                  <div class="day">15</div>
                  <div class="day">16</div>
                  <div class="day">17</div>
                  <div class="day">18</div>
                </div>
                <div class="week">
                  <div class="day">19</div>
                  <div class="day">20</div>
                  <div class="day">21</div>
                  <div class="day">22</div>
                  <div class="day">23</div>
                  <div class="day">24</div>
                  <div class="day">25</div>
                </div>
                <div class="week">
                  <div class="day">26</div>
                  <div class="day">27</div>
                  <div class="day">28</div>
                  <div class="day">29</div>
                  <div class="day">30</div>
                  <div class="day">31</div>
                </div>
              </div>
            </div>
          </div>
          <div class="add-event-box">
            <div class="add-line1">
              <p>Events on 23 October/2021</p>
              <span id="addEvent">Add Event</span>
            </div>
            <div class="add-event-card">
                {% for i in eve %}
              <div class="eventShowCard">
                <div class="dateEvent">23/Oct/2021</div>
                <img src="{% static 'images/img1.png'%}" alt="" id="eventPic" />
                <p class="session">Sunday Sessions</p>
                <div class="eventDetails">
                  <span>Discipline:{{i.discipline}}</span><br />
                  <span>Sanctioning Body: {{i.sanct_body}}</span><br />
                  <span>Address: {{i.address}}</span><br />
                  <span>Medics Name:{{i.medics}}</span>
                </div>
                <img src="{% static 'images/Line2.png'%}" alt="" />
                <div class="eventDetails">
                  <span>Host: {{i.host}}</span><br />
                  <span>Mob: {{i.mobile}}</span>
                  <button id="edit">Edit</button>
                  <button id="delete">Delete</button>
                </div>
            </div>
            {% endfor %}
              <!-- <div class="eventShowCard">
                <div class="dateEvent">23/Oct/2021</div>
                <img src="{% static 'images/img1.png'%}" alt="" id="eventPic" />
                <p class="session">Sunday Sessions</p>
                <div class="eventDetails">
                  <span>Discipline:K1,MT</span><br />
                  <span>Sanctioning Body: WKN, WMAF</span><br />
                  <span>Address: Auckland, Ellerslie</span><br />
                  <span>Medics Name: Fiona Nesbitt</span>
                </div>
                <img src="{% static 'images/Line2.png'%}" alt="" />
                <div class="eventDetails">
                  <span>Host: Jason Suttie</span><br />
                  <span>Mob: 987373943</span>
                  <button id="edit">Edit</button>
                  <button id="delete">Delete</button>
                </div> -->
              <!-- </div> -->
            </div>
          </div>
        </div>
        <div class="event-box-right">
          <h2>Upcoming/Search Events</h2>
          <div class="main-header headerLine list-header">
            <select name="" id="">
              <option value="">Date</option>
            </select>
            <select name="" id="">
              <option value="">Month</option>
            </select>
            <select name="" id="">
              <option value="">Year</option>
            </select>
            <input
              type="search"
              name=""
              id="search"
              placeholder="Search By Event Name"
            />
          </div>
          <div class="main-header headerLine list-header">
            <select name="" id="">
              <option value="">City</option>
            </select>
            <select name="" id="">
              <option value="">Suburb</option>
            </select>
            <select name="" id="">
              <option value="">Country</option>
            </select>
            <select name="" id="">
              <option value="">Discipline</option>
            </select>
          </div>
          <div class="event-boxes">
            <div class="eventShowCard">
              <div class="dateEvent">23/Oct/2021</div>
              <img src="{% static 'images/img1.png'%}" alt="" id="eventPic" />
              <p class="session">Sunday Sessions</p>
              <div class="eventDetails">
                <span>Discipline:K1,MT</span><br />
                <span>Sanctioning Body: WKN, WMAF</span><br />
                <span>Address: Auckland, Ellerslie</span><br />
                <span>Medics Name: Fiona Nesbitt</span>
              </div>
              <img src="{% static 'images/Line2.png'%}" alt="" />
              <div class="eventDetails">
                <span>Host: Jason Suttie</span><br />
                <span>Mob: 987373943</span>
                <button id="edit">Edit</button>
                <button id="delete">Delete</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="notification" id="notification">
        <div class="notification-box">
          <div class="notify-line1">
            <p>Add Event on 23 October/2021</p>
            <i class="bx bx-x" id="cut"></i>
          </div>
          <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-box1">
              <div class="form-left-box">
                <label for="">Event Banner</label>
                <div class="avatar-upload">
                  <div class="avatar-edit">
                    <input
                      type="file"
                      id="imageUpload"
                      accept=".png, .jpg, .jpeg"
                    />
                    <label for="imageUpload">Upload</label>
                  </div>
                  <div class="avatar-preview">
                    <div
                      id="imagePreview"
                      style="background-image: url('imgs/img1.png')"
                    ></div>
                  </div>
                </div>
              </div>
              <div class="form-right-box">
                <label for="">Event Name</label>
                <input name="event_name" type="text" />
                <label for="">Discipline</label>
                <input name="discipline" type="text" />
                <label for="">Sanctioning</label>
                <input name="sanctioning" type="text" />
                <label for="">Medics Name</label>
                <input name="medics_name" type="text" />
              </div>
            </div>
            <div class="form-line2">
              <div class="inputs">
                <label for="">Address</label>
                <input name="address" type="text" />
              </div>
              <div class="inputs">
                <label for="">Suburb</label>
                <input name="suburb" type="text" />
              </div>
              <div class="inputs">
                <label for="">Host</label>
                <input name="host" type="text" />
              </div>
            </div>
            <div class="form-line3">
              <div class="inputs">
                <label for="">Mobile No</label>
                <input name="mobile" type="tel" max="10" />
              </div>
              <!-- <div class="inputs">
                            <label for="">Mobile No</label>
                            <input type="tel" max="10">
                        </div> -->
              <input
                type="submit"
                name="submit"
                id="notify-btn"
                value="Add Event"
              />
            </div>
          </form>
        </div>
      </div>
    </div>
    <script src="https://unpkg.com/boxicons@2.1.3/dist/boxicons.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
      integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script>
      function readURL(input) {
        if (input.files && input.files[0]) {
          var reader = new FileReader();
          reader.onload = function (e) {
            $("#imagePreview").css(
              "background-image",
              "url(" + e.target.result + ")"
            );
            $("#imagePreview").hide();
            $("#imagePreview").fadeIn(650);
          };
          reader.readAsDataURL(input.files[0]);
        }
      }
      $("#imageUpload").change(function () {
        readURL(this);
      });
      var addEvent = document.getElementById("addEvent");
      var event = document.getElementById("event");
      addEvent.addEventListener("click", () => {
        document.getElementById("notification").style.display = "flex";
        // event.style.opacity = '.5'
      });
      var cut = document.getElementById("cut");
      cut.addEventListener("click", () => {
        document.getElementById("notification").style.display = "none";
      });
    </script>
    <script>
      let listLength = document.getElementById("li").listLength;
      let ul = document.getElementById("li");
      let listItems = ul.getElementsByTagName("li");
      let lists = "";

      for (let i = 0; i <= listItems.length - 1; i++) {
        let list = listItems[i].innerText;
        lists = lists + " " + list;
      }
      document.getElementById("eventDate").innerText = lists;
      let date = document.getElementById("eventDate").innerText;
      console.log("Events:", date);
      let dateSplit = date.split(/\s/);
      console.log("Splits", dateSplit);
      let length = dateSplit.length;

      const colorCode = () => {
        return "#C99819";
      };

      for (let j = 1; j < 32; j++) {
        for (let i = 0; i < length; i++) {
          if (dateSplit[i] == document.getElementById([j]).innerText) {
            document.getElementById([j]).style.background = colorCode();
            document.getElementById([j]).style.cursor = "pointer";
          }
        }
      }
    </script>

    <script>
      $(".day").click(function (e) {
        let date = document.getElementById("eventDate").innerText;
        let dateSplit = date.split(/\s/);
        let length = dateSplit.length;
        let id = e.target.id;
        for (let i = 0; i < length; i++) {
          if (dateSplit[i] == id) {
            $(".day").removeClass("redClass");
            $(this).addClass("redClass");
          }
        }
      });
    </script>
    
  </body>
</html>
